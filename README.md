# 🏃‍♂️ 칼퇴의 정석 (Escape the Overtime)
![Unreal Engine 5](https://img.shields.io/badge/Unreal_Engine-5.6-black?logo=unrealengine)
![Language](https://img.shields.io/badge/Language-C%2B%2B_%26_BluePrint-blue?logo=cplusplus)
![Genre](https://img.shields.io/badge/Genre-Stealth_Action-red)
![Team](https://img.shields.io/badge/Team-3_People-green)
> **"금요일 오후 6시 1분. 주말을 즐기려는 김 대리와 야근을 시키려는 부장님의 숨 막히는 추격전!"**


## 📂 프로젝트 소개
'칼퇴의 정석'은 **Unreal Engine 5**를 활용한 1인칭 오피스 잠입 액션 게임입니다.

단순한 추격전을 넘어, 고도화된 AI 시스템(EQS, Perception)과 비헤이비어 트리(Behavior Tree)를 심도 있게 연구하여 긴장감 넘치는 잠입 플레이를 구현하는 데 중점을 두었습니다. 플레이어는 '김 대리'가 되어, 시각과 청각을 곤두세운 '부장님(AI)'의 감시망을 뚫고 엘리베이터로 탈출해야 합니다.

<br>

### 🔗 개발 문서 (Documents)
> 기획서, WBS, 기술 명세서 및 상세 개발 로그를 확인하실 수 있습니다.

[👉 **칼퇴의 정석 개발 노션(Notion) 바로가기**]()

<br>

## 🎮 개요 (Overview)
- **장르**: 병맛 1인칭 수색 / 탈출 (Comedy Stealth Horror)
- **컨셉**: "월요일부터 금요일까지, 매일 다른 모습으로 변장해 퇴근을 막는 부장님을 피해 탈출하라."
- **핵심 재미**: 해맑은 표정의 부장님이 뜬금없는 복장을 하고 있을 때 오는 괴리감과 공포.
- **레퍼런스**: 
  - *8번 출구*: 반복되는 공간 속 미묘한 변화(이변) 탐색
  - *Granny / Hello Neighbor*: 좁은 공간에서의 AI 추격전

  
![ETO_Banner](https://github.com/user-attachments/assets/a9129f39-2f6b-4e5a-be6a-d9ee0f80b55e)

<br>

## 🛠️ 핵심 기술 연구 (R&D Highlights)
이 프로젝트는 단순 기능 구현을 넘어, 언리얼 엔진의 AI 시스템을 깊이 있게 연구하고 적용했습니다.

### 🧠 1. Advanced AI Logic
- **Behavior Tree & Blackboard**: 상태 패턴을 트리 구조로 시각화 및 설계하여 복잡한 AI 행동을 모듈화했습니다.
- **Decorator & Observer Aborts**: 순찰 중이더라도 청각/시각 자극이 들어오면 즉시 현재 행동을 중단(Abort)하고 반응하도록 우선순위 로직을 설계했습니다.
- **Smart Objects**: AI의 피로도 변수에 따라 탕비실 커피 머신과 상호작용하는 환경 인지 로직을 구현했습니다.

### 🎯 2. Environment Query System (EQS)
단순한 랜덤 이동(`GetRandomPoint`)의 한계를 극복하기 위해 EQS를 도입했습니다.
- **Context 기반 가중치 부여**: AI 기준으로 '플레이어가 숨기 좋은 위치(Visiblity Trace 검사)'에 높은 점수를 부여하여, 인간처럼 구석진 곳을 찾아보는 지능적인 수색 알고리즘을 적용했습니다.

### 🔊 3. Noise Tagging System
`Make Noise` 함수와 `Gameplay Tag`를 결합하여 소음의 종류를 구분합니다.
- 부장님 AI가 '배경 소음'은 무시하고, '플레이어 유발 소음(발소리, 전화기 등)'에만 반응하도록 필터링을 구현했습니다.

<br>

## 📅 게임 루프 (Game Loop)
`[월요일] → [화요일] → [수요일] → [목요일] → [금요일(엔딩)]`

- **승리 조건**: 맵 어딘가에 숨겨진 '카드키'를 찾아 엘리베이터에 태그하고 탑승.
- **패배 조건**: 부장님에게 잡힘 (Game Over: "주말 등산 당첨").
- **로그라이크 요소**: 요일마다 맵의 구조(파티션 배치)가 미묘하게 바뀌고, 카드키 위치와 부장님의 행동 패턴(기믹)이 랜덤하게 결정됩니다.

<br>

## 🕹️ 주요 기능 (Key Mechanics)

### 1. 플레이어 (김 대리)
- **잠입 액션 (Stealth)**: `Ctrl` 키를 사용하여 파티션 뒤나 책상 밑으로 은폐(Crouch) 가능.
- **소음 시스템 (Noise Generation)**:
  - 걷기: 소음 없음 (안전)
  - 달리기 (`Shift`): 소음 발생 → AI의 청각 자극 및 추격 유발
- **전략적 상호작용**: 전화기나 복사기를 작동시켜 소음을 유발, 부장님을 유인하고 따돌림.
- **스태미나 관리**: 전력 질주에 제한을 두어 전략적인 이동 경로 설계 필요.

### 2. 적 AI (부장님)
- **감각 시스템 (AI Perception)**:
  - **시각(Sight)**: 전방 90도 시야각 구현. 플레이어 식별 시 즉시 추격 모드 전환.
  - **청각(Hearing)**: 발소리나 사물 소음 감지 시 해당 위치(`LastHeardLocation`)로 의심 이동.
- **지능적 수색 (EQS)**: 플레이어를 놓쳤을 때 단순히 제자리로 돌아가지 않고, 주변의 은폐 가능한 지점(책상 밑, 사각지대)을 우선적으로 수색합니다.
- **행동 패턴**: `[업무] ↔ [순찰] ↔ [의심] ↔ [추격] ↔ [휴식(커피)]`의 유기적 상태 전환.

<br>

## 👨‍🦲 핵심 재미: 부장님의 변장 (The Bald Boss)
이 게임의 알파이자 오메가입니다. 부장님은 매일 다른 컨셉으로 김 대리의 퇴근을 저지합니다.

| 요일 | 컨셉 | 특징 |
|:---:|:---:|:---|
| **월요일** | 기본 부장 | 무한 야근의 시작. 정직한 순찰 패턴. |
| **화요일** | 청소 부장 | "청소의 달인". 화장실 청소 복장. |
| **수요일** | 스님 부장 | "무소유". 절에서 3천배를 권유하며 공중 부양 이동. |
| **목요일** | 위장술 부장 | 사물(화분, 정수기)로 변신하여 숨어있음. (눈싸움 패배 주의) |
| **금요일** | 미러볼 부장 | "불금의 광기". 회사 전체가 노래방화 되며 템버린을 치고 춤추며 추격. |

<br>

## 🏢 맵 & 시스템 (Level Design)
- **사무실의 변화 (The Anomaly)**
  - 기본 구조: 로비 - 업무 공간(미로) - 탕비실 - 임원실(부장자리) - 화장실 - 엘리베이터
  - **랜덤 루프**: 매 요일마다 책상 배치가 달라져 미로 구조가 변경됨.
  - **함정 카드**: 가짜 카드키를 주우면 경보음이 울림.

## 📸 연출 (Cinematic & Jump Scare)
- **갑툭튀 (Jump Scare)**: 부장님에게 잡히는 순간, 부담스러운 얼빡샷(Face Zoom-in)과 함께 "어딜 가!!!" 사운드 출력.
- **게임 오버 시네마틱**: 각 요일별 부장님 컨셉에 맞는 코믹하고 처절한 배드 엔딩 연출.

<br>

## 👨‍💻 개발팀 (Developers)

| 역할 (Role) | 이름 (Name) | 담당 업무 (Responsibilities) |
|---|---|---|
| **Lead Programmer / AI** | **박재홍** | • 비헤이비어 트리 아키텍처, EQS 설계<br>• 캐릭터 이동 시스템, 상호작용 로직 구현 |
| **Tech Artist** | **유상우** | • 애니메이션 리타겟팅, 연출 및 이펙트<br>• 사무실 레벨 디자인, NavMesh 최적화 |
| **Project Manager** | **정윤성** | • 기획 및 문서관리, UI 디자인<br>• 에셋 관리 (스마트 오브젝트, 사운드, 소음 시스템) |

---
**Copyright 2025. YONSAI IT INSTITUTE. Escape The Overtime Team. All rights reserved.**
